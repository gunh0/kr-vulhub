FROM alpine:edge
LABEL maintainer "Ilya Glotov <ilya@ilyaglotov.com>"

RUN apk --update-cache add  openssl-dev \
                             python3 
RUN apk --update-cache add --virtual build-dependencies build-base \
                                      libffi-dev \
                                      py-pip \
                                      python3-dev \
  && python3 -m venv /venv \
  && . /venv/bin/activate \
  && pip install paramiko==2.7.1 \
  && pip install six \
  && apk del build-dependencies

COPY exampleInput.txt /exampleInput.txt
COPY sshUsernameEnumExploit.py /sshUsernameEnumExploit.py

RUN chmod +x /sshUsernameEnumExploit.py

CMD . /venv/bin/activate && exec python /sshUsernameEnumExploit.py  --port 20022 --userList /exampleInput.txt {your ip}
