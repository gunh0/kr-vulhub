# Makefile

# 기본 설정
COMPOSE=docker compose
SERVICE=express-cve-2024-29041

# 이미지 빌드
build:
	$(COMPOSE) build

# 컨테이너 실행
up:
	$(COMPOSE) up -d

# 종료
down:
	$(COMPOSE) down

# 로그 보기
logs:
	$(COMPOSE) logs -f

# 컨테이너 재시작
restart: down up

# 컨테이너 및 이미지 제거 가능
clean: 
	$(COMPOSE) down --rmi all --volumes --remove-orphans

# 이미지 제거 후 재빌드
rebuild: clean
	$(COMPOSE) up -d
