# CVE-2017-82991

**Contributors**

-   [박솔빈(@sbeeno)](https://github.com/sbeeno)

<br/>

### 요약

-   Python에서 이미지를 다루는 모듈인 PIL(Pillow)은 내부적으로 GhostScript를 호출하고 있으며, 이로 인해 GhostButt 취약점 (CVE-2017-8291)의 영향을 받아 원격 명령 실행 취약점이 발생할 수 있음.
-   PIL (Pillow)은 이미지 형식을 판단하기 위해 이미지 헤더 (매직 바이트)를 기반으로 하며, eps 파일 (헤더가 %!PS로 시작하는 파일)을 발견하면 이를 PIL/EpsImagePlugin.py로 전달하여 처리함.
-   이 모듈에서 PIL은 시스템의 gs 명령어, 즉 GhostScript를 사용하여 이미지 파일을 처리함.
-   dSAFER, 즉 안전 모드를 설정하더라도 GhostScript의 샌드박스 우회 취약점 (GhostButt CVE-2017-8291) 때문에 이 안전 모드가 우회되어 임의의 명령을 실행할 수 있게 됨
-   현재까지 GhostScript의 공식 최신 버전인 9.21도 이 취약점의 영향을 받고 있으므로, 운영 체제에 GhostScript가 설치되어 있으면 PIL에 명령 실행 취약점이 존재할 수 있음

<br/>

### 환경 구성 및 실행

-
<br/>

### 결과



<br/>

### 정리

-  
