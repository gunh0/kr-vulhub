FROM debian:experimental-20240311@sha256:16cc2b09c44d991d36f63153f13a7c98fb7da6bd2ba9d7cc0f48baacb7484970

RUN apt update && apt install -y \
    openssh-server \
    curl \
    vim \
    net-tools

RUN [ -d /var/run/sshd ] || mkdir /var/run/sshd && \
    echo 'root:whs' | chpasswd && \
    sed -i 's/#PermitRootLogin prohibit-password/PermitRootLogin yes/' /etc/ssh/sshd_config

EXPOSE 22
CMD ["/usr/sbin/sshd", "-D"]
