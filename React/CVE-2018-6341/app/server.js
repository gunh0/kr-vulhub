const express = require('express');
const React = require('react');
const ReactDOMServer = require('react-dom/server');

const app = express();

app.get('/', (req, res) => {
  const userInput = req.query.userInput || 'default';
  const props = { [userInput]: 'value' };
  const element = React.createElement('div', props, 'Hello World');
  const html = ReactDOMServer.renderToString(element);
  res.send(`<!DOCTYPE html>
  <html>
    <head><title>React SSR XSS Demo</title></head>
    <body>
      <div id="root">${html}</div>
    </body>
  </html>`);
});

app.listen(3000, () => {
  console.log('Server is running on http://localhost:3000');
});
