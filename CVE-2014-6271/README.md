# 타겟 시스템 분석 보고서

# CVE-2014-6271(Bash)

**Contributors**

- [박건호(@ian9292)](https://github.com/ian9292)
- [박민영(@parkminy0ng)](@https://github.com/Parkminy0ng/whitehat-school-vulhub)

<br/>

### 요약

- CVE-2014-6271, 또는 'Shellshock' 취약점은 Unix 및 Linux 시스템에서 발견된 취약점으로, 웹 서버나 CGI 스크립트를 통해 공격자가 시스템에 악성 코드를 삽입할 수 있음.
- 이를 통해 공격자는 원격에서 명령어를 실행하고 시스템을 제어할 수 있고, 데이터 유출 및 서비스 거부(Dos) 공격 등의 위험성이 있음.
- Bash 쉘에서 다음과 같은 를 입력함으로써 CVE-2014-6271 취약점이 있는지 확인함.
  env x='() { :;}; echo vulnerable' bash -c "echo test" 만약 시스템이 취약할 경우, "vulnerable"이라는 메시지가 출력됨.

<br/>

### CVE-2014-6271 개요

- CVE-2014-6271은 'Shellshock'이라고 알려진 취약점으로, Bourne-Again-SHell(Bash)라고 불리는 Unix 및 Linux 운영 체제에서 발견되어 2014년 9월에 공개됨.
-     공격자는 주로 웹 서버나 CGI(Common Gateway Interface) 스크립트를 통해 시스템에 악성 코드를 삽입함.
-     공격자는 주로 HTTP 요청의 헤더나 환경 변수 등을 조작하여 악의적인 쉘 명령어를 삽입함.
-     취약점은 Bash의 쉘 함수 정의 기능에서 발생함.
-     공격자는 쉘 함수 정의를 이용하여 환경 변수를 조작하고, 삽입한 악의적인 명령어를 실행할 수 있게 됨.
-     공격자는 웹 요청의 User-Agent 헤더나 웹 서비스에 전달되는 다른 환경 변수를 악용하여 원격에서 명령어를 실행할 수 있음.

<br/>

### CVE-2014-6271 공격 대상

- 이 취약점은 Unix 및 Linux 시스템, Mac OS X, 그리고 Bash를 사용하는 다른 시스템을 대상으로 공격을 진행함.

<br/>

### CVE-2014-6271 확인 방법

- Bash 쉘에서 다음과 같은 명령어를 입력함으로써 이 취약점이 있는지 확인함.
- env x='() { :;}; echo vulnerable' bash -c "echo test"
- 만약 시스템이 취약할 경우, "vulnerable"이라는 메시지가 출력됨.

<br/>

### CVE-2014-6271 위험 평가

- 원격 명령 실행: Shellshock 취약점을 악용하는 공격자는 원격에서 명령어를 실행할 수 있는 권한을 얻게 됨. 취약한 시스템에 악성 코드를 삽입하거나, 악의적인 명령어를 실행하여 시스템을 제어할 수 있으며, 이를 통해 시스템의 중요한 파일을 삭제 및 변경하거나, 악성 프로그램을 설치하거나 실행함.
- 시스템 제어권 획득: Shellshock을 악용하는 공격자는 취약한 시스템에서 권한 상승을 시도함. 공격자는 악성코드를 실행하여 시스템 관리자 권한을 획득하고, 시스템 전체를 제어할 수 있게 됨. 이는 시스템의 모든 데이터와 서비스에 대한 접근 권한을 가지게 되어 막대한 피해를 초래할 수 있음.
- 데이터 유출: 공격자는 shellshock을 이용하여 시스템에서 중요한 데이터를 탈취할 수 있음. 악성코드를 실행하여 데이터베이스, 로그 파일, 사용자 정보 등을 탈취하거나, 네트워크 상의 기밀 정보를 노출시켜 개인정보 유출, 기업의 영업 비밀 유출 등의 심각한 문제로 이어짐.
- 서비스 거부 (DoS) 공격: Shellshock 취약점을 악용하는 공격자는 시스템을 과부화시키는 DoS(Denial of Service) 공격을 수행할 수 있음. 악성코드를 실행하여 시스템 자원을 과도하게 사용하거나, 취약한 프로세스를 악용하여 서비스를 마비시킬 수 있음. 이는 시스템의 사용성을 저하시키고, 정상적인 사용자들에게 서비스 이용에 불편을 초래할 수 있음.

<br/>

### CVE-2014-6271 보안 업계의 변화

- 긴급 패치 및 업데이트 배포: Bash Shell을 개발하고 유지하는 조직 및 대부분의 Linux 배포판 제작사들도 즉시 CVE-2014-6271을 해결하기 위한 패치를 배포함.
- 알림 및 권고: 보안 업계는 개인 사용자부터 대형 기업에 이르기까지 모든 사용자에게 CVE-2014-6271에 대한 알림을 보내고, 즉시 패치할 것을 권고하여 보안을 강화할 것을 촉구함.
- 취약점 분석 및 대응 방안 연구: 보안 연구자들은 CVE-2014-6271을 분석하고, 공격 시나리오를 예상하며, 효과적이니 대응 방안을 연구함. 이를 통해 보안 커뮤니티는 이 취약점을 더 잘 이해하고, 효과적으로 대응함.
- 보안 교육 및 인식 강화: CVE-2014-6271은 운영 체제의 핵심 요소에서 발견된 것이므로, 보안 업계는 이를 계기로 보안 교육과 인식을 강화함.

<br/>

### CVE-2014-6271 취약점 해결 방안

- 시스템 업데이트: 대부분의 최신 운영체제는 CVE-2014-6271 취약점에 대한 패치가 이미 적용되어 있기 때문에 운영체제가 최신 상태인지 확인해야 한다.
- BASH 업데이트: 대부분의 배포판은 CVE-2014-6271 취약점에 대한 패치를 제공하고 있으므로, 해당 배포만의 공식 문서를 참고하여 BASH 업데이트
- 패치 확인: 업데이트 후에는 반드시 취약점이 해결되었는지 확인해야 한다. 이전에 제공한 명령어를 다시 실행하여, "vulnearble" 메시지가 더 이상 출력되지 않는지 확인
- 보안 정책 강화: 이외에도, 시스템의 보안 정책을 강화하여 잠재적인 공격을 방어해야 함. 예를 들어, 웹 서버의 경우 CGI 스크립트 실행을 제한하거나, 필요 이상의 권한을 부여하지 않는 등의 조치를 취하는 것이 좋음.

<br/>

### 정리

- 이 취약점은 공격자가 Bash 쉘을 통해 시스템에 악성 코드를 삽입하고 원격에서 명령어를 실행할 수 있는 위험이 있음. 안전한 서비스 운영을 위해서는 이러한 취약점을 인식하고 주기적으로 확인하고 패치하는 것이 중요함. 더불어 이러한 취약점에 대한 보안 대응책에는 위험 평가, 대응 계획 수립, 계획 실행 및 모니터링, 사후 분석 및 보안 강화가 이루어져야 함.
